<div class="flex items-center justify-center max-w-md mx-auto min-h-screen">
  <p-card header="Register" class="w-3xl">
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
      <div class="my-1.5">
        <label for="username">Username</label>
        <input
          pInputText
          class="w-full"
          id="username"
          formControlName="username"
        />
        <div class="text-red-500">
          <small
            *ngIf="username.invalid && (username.dirty || username.touched)"
          >
            Full name is required
          </small>
        </div>

        <!-- @if(username.invalid && (username.dirty || username.touched)){
          <small class="block p-error">Username is required</small>
          } -->
      </div>

      <div class="my-1.5">
        <label for="email">Email</label>
        <input pInputText class="w-full" id="email" formControlName="email" />

        @if(email.invalid && (email.dirty || email.touched)){
        <div class="text-red-500">
          <small class="block p-error">
            @if(email.hasError('required')) {
            <span>Email is required</span>
            } @else if(email.hasError('pattern')) {
            <span>Email is invalid</span>
            }
          </small>
        </div>

        }
      </div>

      <div class="my-1.5">
        <label for="password">Password</label>
        <p-password
          formControlName="password"
          [feedback]="false"
          [toggleMask]="true"
          inputId="password"
          inputStyleClass="w-full"
          styleClass="w-full"
        >
        </p-password>

        <!--old version-->
        @if(password.invalid && (password.dirty || password.touched)) {
        <div class="text-red-500">
          <small class="block p-error"> Password is required </small>
        </div>
        <div class="my-1.5 text-gray-500 text-sm">
          <p>
            Passwords must have at least 8 characters and contain
            <strong
              >at least two of the following: uppercase letters, lowercase
              letters, numbers, and symbols.</strong
            >
          </p>
        </div>
        }
      </div>

      <div class="my-1.5">
        <label for="confirmPassword">Confirm Password</label>
        <p-password
          formControlName="confirmPassword"
          [feedback]="false"
          [toggleMask]="true"
          inputId="confirmPassword"
          inputStyleClass="w-full"
          styleClass="w-full"
        ></p-password>
        @if(confirmPassword.invalid && (confirmPassword.dirty ||
        confirmPassword.touched)) {
        <div class="text-red-500">
          <small class="block p-error"> Confirm Password is required </small>
        </div>
        } @if(registerForm.hasError('passwordMismatch') && password.valid &&
        confirmPassword.valid) {
        <div class="text-red-500">
          <small class="block p-error"> Password mismatch </small>
        </div>
        }
      </div>
      <div class="mt-4">
        <button
          type="submit"
          [disabled]="registerForm.invalid"
          class="w-full bg-red-900 text-white font-semibold py-2 px-4 rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-red-800 transition"
        >
          Register
        </button>
      </div>
      <div class="mt-4 text-center text-gray-400">
        Already have an account?<a
          routerLink="/login"
          class="text-blue-500 hover:underline"
        >
          Log In</a
        >
      </div>
    </form>
  </p-card>
</div>
